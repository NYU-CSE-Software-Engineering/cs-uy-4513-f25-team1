<nav class="landing-nav">
  <a href="/" class="nav-logo">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="3" width="7" height="7" rx="1"></rect>
      <rect x="14" y="3" width="7" height="9" rx="1"></rect>
      <rect x="14" y="14" width="7" height="7" rx="1"></rect>
      <rect x="3" y="12" width="7" height="9" rx="1"></rect>
    </svg>
    Quadratic
  </a>
  <div class="nav-links">
    <a href="#how-it-works" class="nav-link">How It Works</a>
    <a href="#features" class="nav-link">Features</a>
    <% if authenticated? %>
      <a href="/projects" class="btn btn-primary">Go to App</a>
    <% else %>
      <a href="/session/new" class="btn btn-primary">Login</a>
    <% end %>
  </div>
</nav>

<section class="landing-hero">
  <div class="hero-bg-animation"></div>
  
  <div class="hero-content">
    <% if flash[:notice] %>
      <div class="flash-notice" data-auto-dismiss><%= flash[:notice] %></div>
    <% end %>
    
    <div class="hero-badge">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
      </svg>
      Simple. Powerful. Free.
    </div>
    
    <h1 class="hero-title">Project Management<br><span class="hero-title-accent">Made Simple</span></h1>
    <p class="hero-tagline">Stop wrestling with complex tools. Quadratic gives your team everything needed to plan, track, and shipâ€”without the bloat.</p>
    
    <div class="hero-cta">
      <% if authenticated? %>
        <a href="/projects" class="btn btn-primary btn-lg">
          Go to App
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </a>
      <% else %>
        <a href="/users/new" class="btn btn-primary btn-lg">
          Get Started Free
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </a>
      <% end %>
      <a href="#features" class="btn btn-secondary btn-lg">Learn More</a>
    </div>
    
    <div class="hero-stats">
      <div class="hero-stat">
        <span class="stat-number">Unlimited</span>
        <span class="stat-label">Projects</span>
      </div>
      <div class="hero-stat-divider"></div>
      <div class="hero-stat">
        <span class="stat-number">Free</span>
        <span class="stat-label">Forever</span>
      </div>
      <div class="hero-stat-divider"></div>
      <div class="hero-stat">
        <span class="stat-number">Teams</span>
        <span class="stat-label">Of Any Size</span>
      </div>
    </div>
  </div>
</section>

<section id="how-it-works" class="landing-how-it-works">
  <div class="section-container">
    <h2 class="section-title">How It Works</h2>
    <p class="section-subtitle">Get your team organized in three simple steps</p>
    <div class="steps-grid">
      <div class="step-card reveal-on-scroll">
        <div class="step-number">1</div>
        <div class="step-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
            <line x1="12" y1="11" x2="12" y2="17"></line>
            <line x1="9" y1="14" x2="15" y2="14"></line>
          </svg>
        </div>
        <h3>Create a Project</h3>
        <p>Set up your workspace with a name, description, and optional GitHub integration.</p>
      </div>
      <div class="step-connector">
        <svg width="40" height="24" viewBox="0 0 40 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M0 12h32M26 6l6 6-6 6"></path>
        </svg>
      </div>
      <div class="step-card reveal-on-scroll">
        <div class="step-number">2</div>
        <div class="step-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="12" y1="18" x2="12" y2="12"></line>
            <line x1="9" y1="15" x2="15" y2="15"></line>
          </svg>
        </div>
        <h3>Add Tasks</h3>
        <p>Create tasks with priorities, due dates, and assignees. Track progress on your kanban board.</p>
      </div>
      <div class="step-connector">
        <svg width="40" height="24" viewBox="0 0 40 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M0 12h32M26 6l6 6-6 6"></path>
        </svg>
      </div>
      <div class="step-card reveal-on-scroll">
        <div class="step-number">3</div>
        <div class="step-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
        </div>
        <h3>Collaborate</h3>
        <p>Invite your team, assign roles, and work together with comments and file attachments.</p>
      </div>
    </div>
  </div>
</section>

<section id="features" class="landing-features">
  <div class="section-container">
    <h2 class="section-title">Powerful Features</h2>
    <p class="section-subtitle">Everything you need to manage projects and collaborate with your team.</p>
    <div class="features-grid">
      <div class="feature-card reveal-on-scroll">
        <div class="feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
        </div>
        <h3>Project Management</h3>
        <p>Create and manage projects with descriptions and GitHub repository links. Control access through role-based permissions.</p>
      </div>
      <div class="feature-card reveal-on-scroll">
        <div class="feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 11 12 14 22 4"></polyline>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
          </svg>
        </div>
        <h3>Task Tracking</h3>
        <p>Create tasks with title, description, type, priority levels, due dates, and branch links. Filter and sort tasks by multiple criteria.</p>
      </div>
      <div class="feature-card reveal-on-scroll">
        <div class="feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
        </div>
        <h3>Review Workflow</h3>
        <p>Structured workflow with To Do, In Progress, In Review, and Completed statuses. Developers request review, managers approve completion.</p>
      </div>
      <div class="feature-card reveal-on-scroll">
        <div class="feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
        </div>
        <h3>Team Collaboration</h3>
        <p>Invite team members by email or username. Three roles: Manager, Developer, and Invited. Track individual contribution percentages.</p>
      </div>
      <div class="feature-card reveal-on-scroll">
        <div class="feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
        </div>
        <h3>Comments & Discussion</h3>
        <p>Add, edit, and delete comments on tasks. Markdown support for rich formatting.</p>
      </div>
      <div class="feature-card reveal-on-scroll">
        <div class="feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
          </svg>
        </div>
        <h3>File Attachments</h3>
        <p>Upload images, PDFs, Word, and Excel files to tasks. Preview and manage media files directly in the task view.</p>
      </div>
    </div>
  </div>
</section>

<section class="landing-cta">
  <div class="cta-content">
    <h2>Ready to streamline your workflow?</h2>
    <p>Join teams who ship faster with Quadratic.</p>
    <% if authenticated? %>
      <a href="/projects" class="btn btn-primary btn-lg">Go to App</a>
    <% else %>
      <a href="/users/new" class="btn btn-primary btn-lg">Create Free Account</a>
    <% end %>
  </div>
</section>

<footer class="landing-footer">
  <div class="footer-content">
    <div class="footer-brand">
      <a href="/" class="footer-logo">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7" rx="1"></rect>
          <rect x="14" y="3" width="7" height="9" rx="1"></rect>
          <rect x="14" y="14" width="7" height="7" rx="1"></rect>
          <rect x="3" y="12" width="7" height="9" rx="1"></rect>
        </svg>
        Quadratic
      </a>
      <p class="footer-tagline">Project management made simple.</p>
    </div>
    <div class="footer-links">
      <a href="#features">Features</a>
      <% if authenticated? %>
        <a href="/projects">Go to App</a>
      <% else %>
        <a href="/session/new">Login</a>
        <a href="/users/new">Sign Up</a>
      <% end %>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; <%= Time.current.year %> Quadratic. Built with Rails.</p>
  </div>
</footer>

<script>
  function initRevealAnimations() {
    const revealElements = document.querySelectorAll('.reveal-on-scroll');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('revealed');
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });
    
    revealElements.forEach(el => observer.observe(el));
  }

  function initAutoDismiss() {
    const flashNotices = document.querySelectorAll('[data-auto-dismiss]');
    flashNotices.forEach(notice => {
      setTimeout(() => {
        notice.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        notice.style.opacity = '0';
        notice.style.transform = 'translateY(-10px)';
        setTimeout(() => notice.remove(), 500);
      }, 3000);
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    initRevealAnimations();
    initAutoDismiss();
  });
  document.addEventListener('turbo:load', () => {
    initRevealAnimations();
    initAutoDismiss();
  });
</script>
