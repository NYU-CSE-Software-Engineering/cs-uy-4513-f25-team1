<% if flash[:created] %>
  <p> <%= flash[:created] %> </p>
<% end %>

<h1><%= @project.name %></h1>

<p><strong>WIP limit (In Progress):</strong>
  <%= @project.wip_limit || "None" %>
</p>

<p><strong>In Progress :</strong>
  <%= @project.tasks.where(status: "In Progress").count %>
</p>

<% if flash[:notice] %>
  <div class="notice"><%= flash[:notice] %></div>
<% end %>
<% if flash[:alert] %>
  <div class="alert"><%= flash[:alert] %></div>
<% end %>

<hr>

<h2>Tasks</h2>

<%= link_to "New Task", new_project_task_path(@project), class: "button" %>

<h3>To Do</h3>
<ul id="to-do-column">
  <% @project.tasks.where(status: "To Do").each do |t| %>
    <li>
      <%= t.title %>
      <%= link_to "Edit", edit_project_task_path(@project, t) %>
    </li>
  <% end %>
</ul>

<h3>In Progress</h3>
<ul id="in-progress-column">
  <% @project.tasks.where(status: "In Progress").each do |t| %>
    <li>
      <%= t.title %>
      <%= link_to "Edit", edit_project_task_path(@project, t) %>
    </li>
  <% end %>
</ul>

<h3>In Review</h3>
<ul id="in-review-column">
  <% @project.tasks.where(status: "In Review").each do |t| %>
    <li>
      <%= t.title %>
      <%= link_to "Edit", edit_project_task_path(@project, t) %>
    </li>
  <% end %>
</ul>

<h3>Completed</h3>
<ul id="completed-column">
  <% @project.tasks.where(status: "Completed").each do |t| %>
    <li>
      <%= t.title %>
      <%= link_to "Edit", edit_project_task_path(@project, t) %>
    </li>
  <% end %>
</ul>
